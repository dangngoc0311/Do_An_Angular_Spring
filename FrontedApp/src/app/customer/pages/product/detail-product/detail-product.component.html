<!-- .breadcumb-area start -->
<div class="breadcumb-area bg-img-1 black-opacity ptb-50">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="breadcumb-wrap text-center">
                    <h2>{{ 'detailPro'|translate }}</h2>
                    <ul>
                        <li><a [routerLink]="['']">{{ 'home'|translate }}</a></li>
                        <li><span>{{ 'detailPro'|translate }}</span></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- .breadcumb-area end -->
<!-- single-product-area start-->
<div class="single-product-area ptb-100">
    <div class="container">
        <div class="row">
            <div class="col-lg-5">
                <div class="product-single-img">
                    <div class="product-active ">
                        <div class="item">
                            <img [src]="this.host+'/getImageBook/'+book.image " alt="">
                        </div>

                    </div>

                </div>
            </div>
            <div class="col-lg-7">
                <div class="product-single-content">
                    <h2>{{ book.name }}</h2>
                    <div class="rating-wrap fix">
                        <span class="pull-left">
              <div class="price" *ngIf="book.saleprice!=null && book.typesale;">
                <span class="new-price"> {{ book.price-(book.saleprice*book.price/100) |currency :"VND"}}</span>
                        <span class="old-price"> {{ book.price |currency :"VND"}}</span>
                    </div>
                    <div class="price" *ngIf="book.saleprice!=null && !book.typesale;">
                        <span class="new-price"> {{book.price-book.saleprice |currency :"VND"}}</span>
                        <span class="old-price"> {{ book.price |currency :"VND"}}</span>
                    </div>
                    <div class="price" *ngIf="book.saleprice==null && book.typesale==null;">
                        <span class="new-price"> {{ book.price |currency :"VND"}}</span>
                    </div>
                    </span>
                    <ul class="rating pull-right" *ngIf="totalstar==5">
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li>({{ listReview.length }} {{ 'customerReview'|translate }})</li>
                    </ul>
                    <ul class="rating pull-right" *ngIf="totalstar==4">
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li>({{ listReview.length }} {{ 'customerReview'|translate }})</li>
                    </ul>
                    <ul class="rating pull-right" *ngIf="totalstar==3">
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li>({{ listReview.length }} {{ 'customerReview'|translate }})</li>
                    </ul>
                    <ul class="rating pull-right" *ngIf="totalstar==2">
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li>({{ listReview.length }} {{ 'customerReview'|translate }})</li>
                    </ul>
                    <ul class="rating pull-right" *ngIf="totalstar==1">
                        <li><i class="fa fa-star"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li>({{ listReview.length }} {{ 'customerReview'|translate }})</li>
                    </ul>
                    <ul class="rating pull-right" *ngIf="totalstar==0">
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li><i class="fa fa-star text-secondary"></i></li>
                        <li>({{ listReview.length!=null?listReview.length:0 }} {{ 'customerReview'|translate }})</li>
                    </ul>
                </div>
                <ul class="input-style">
                    <li class=" ">
                        <div class="number-input">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepDown()" class="minus"><i
                    class="fa fa-minus" aria-hidden="true"></i></button>
                            <input class="quantity" id="quantity" min="1" max="{{ (book.quantity-maxAdd) }}" name="quantity" value="1" type="number">
                            <button onclick="this.parentNode.querySelector('input[type=number]').stepUp()" class="plus"><i
                    class="fa fa-plus" aria-hidden="true"></i></button>
                        </div>
                    </li>
                    <li class="text-white"><a (click)="!book.status?err(book.name): addToCart(book.id)">{{ 'addCart'|translate }}</a></li>
                </ul>

                <ul class="cetagory">
                    <li style="font-size: 16px;">{{ 'author'|translate }} :<span style="padding-left: 5px;">{{ book.author }}</span> </li>
                </ul>
                <ul class="cetagory">
                    <li style="font-size: 16px;">{{ 'category'|translate }} :<span style="padding-left: 5px;">{{ book.objCategory?.name }}</span> </li>
                </ul>
                <ul class="cetagory">
                    <li style="font-size: 16px;">{{ 'publisher'|translate }} :<span style="padding-left: 5px;">{{ book.publisher}}</span> </li>
                </ul>
                <ul class="cetagory">
                    <li style="font-size: 16px;">{{ 'status'|translate }} :<span style="padding-left: 5px;">Con {{ book.quantity
                }} sp</span> </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="row mt-60">
        <div class="col-12">
            <div class="single-product-menu">
                <ul class="nav">
                    <li><a class="active" data-toggle="tab" href="#description">{{ 'description'|translate }}</a> </li>
                    <li><a data-toggle="tab" href="#review">{{ 'reviews'|translate }}</a></li>
                </ul>
            </div>
        </div>
        <div class="col-12">
            <div class="tab-content">
                <div class="tab-pane active" id="description">
                    <div class="description-wrap">
                        <p [innerHtml]="book.description"></p>
                    </div>
                </div>
                <div class="tab-pane" id="review">
                    <div class="review-wrap">
                        <ul>
                            <li class="review-items" *ngFor="let r of listReview">
                                <div class="review-img">
                                </div>
                                <div class="review-content">
                                    <h3><a href="#">{{ r.objReviewBook.name }}</a></h3>
                                    <span>{{ r.reviewdate |date: 'dd/MM/yyyy'}}</span>
                                    <p>{{ r.description }}</p>
                                    <ul class="rating" *ngIf="r.rating==5">
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                    </ul>
                                    <ul class="rating" *ngIf="r.rating==4">
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star text-secondary"></i></li>
                                    </ul>
                                    <ul class="rating" *ngIf="r.rating==3">
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star text-secondary"></i></li>
                                        <li><i class="fa fa-star text-secondary"></i></li>
                                    </ul>
                                    <ul class="rating" *ngIf="r.rating==2">
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star text-secondary"></i></li>
                                        <li><i class="fa fa-star text-secondary"></i></li>
                                        <li><i class="fa fa-star text-secondary"></i></li>
                                    </ul>
                                    <ul class="rating" *ngIf="r.rating==1">
                                        <li><i class="fa fa-star"></i></li>
                                        <li><i class="fa fa-star text-secondary"></i></li>
                                        <li><i class="fa fa-star text-secondary"></i></li>
                                        <li><i class="fa fa-star text-secondary"></i></li>
                                        <li><i class="fa fa-star text-secondary"></i></li>
                                    </ul>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="add-review" *ngIf="checkOrder && checkReview">
                        <form [formGroup]="infoForm" role="form" (ngSubmit)="addReview()">
                            <h4>{{ 'add'|translate }}</h4>
                            <div class="ratting-wrap">
                                <div id="full-stars-example">
                                    <div class="rating-group">
                                        <label aria-label="1 star" class="rating__label" for="rating-1"><i
                          class="rating__icon rating__icon--star fa fa-star"></i></label>
                                        <input class="rating__input" formControlName="rating" name="rating" id="rating-1" value="1" type="radio">
                                        <label aria-label="2 stars" class="rating__label" for="rating-2"><i
                          class="rating__icon rating__icon--star fa fa-star"></i></label>
                                        <input class="rating__input" formControlName="rating" name="rating" id="rating-2" value="2" type="radio">
                                        <label aria-label="3 stars" class="rating__label" for="rating-3"><i
                          class="rating__icon rating__icon--star fa fa-star"></i></label>
                                        <input class="rating__input" formControlName="rating" name="rating" id="rating-3" value="3" type="radio">
                                        <label aria-label="4 stars" class="rating__label" for="rating-4"><i
                          class="rating__icon rating__icon--star fa fa-star"></i></label>
                                        <input class="rating__input" formControlName="rating" name="rating" id="rating-4" value="4" type="radio">
                                        <label aria-label="5 stars" class="rating__label" for="rating-5"><i
                          class="rating__icon rating__icon--star fa fa-star"></i></label>
                                        <input class="rating__input" formControlName="rating" name="rating" id="rating-5" value="5" type="radio" checked>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <h4>{{ 'reviews'|translate }}:</h4>
                                    <textarea formControlName="description" name="description" id="description" cols="30" rows="10" placeholder="Your review here..."></textarea>
                                    <div *ngIf="f['description'].invalid && (f['description'].dirty || f['description'].touched) || submitted" class="text-danger">
                                        <div *ngIf="f['description'].errors">
                                            <div *ngIf="f['description'].errors['required']">
                                                {{ 'description' | translate}} {{ 'required'|translate }}
                                            </div>
                                            <div *ngIf="f['description'].errors['maxlength']">
                                                {{ 'description' | translate}} {{ 'maxLength'|translate }} 150
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <button class="btn-style">{{ 'send'|translate }}</button>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
<!-- single-product-area end-->
<!-- featured-product-area start -->
<div class="featured-product-area">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title">
                    <h2>{{ 'relatedProduct'|translate }}</h2>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-3 col-sm-6 col-12" *ngFor="let bk of listBook ">
                <div class="product-wrap">
                    <a routerLink="/detailProduct/{{ bk.id}}">
                        <div class="product-img">

                            <img [src]="this.host+'/getImageBook/'+bk.image " alt="">

                            <span class="on-sale product-flash" *ngIf="bk.saleprice>0">Sale</span>
                            <span class="on-featured product-flash" *ngIf="bk.hot">Hot</span>
                            <span class="on-new  product-flash" *ngIf="bk.quantity==0">Het </span>
                        </div>
                    </a>
                    <ul class="icon">
                        <li><a (click)="!bk.status?err(bk.name): addToCart(bk.id)"><i class="fa fa-shopping-cart"></i></a>
                            <span>{{ 'addCart'|translate }}</span>
                        </li>
                        <li><a routerLink="/detailProduct/{{ bk.id}}"><i class="fa fa-eye"></i></a>
                            <span>{{ 'detail'|translate }}</span>
                        </li>
                    </ul>
                    <div class="product-content fix">
                        <h3><a routerLink="/detailProduct/{{ bk.id}}" class="text-uppercase">{{ bk.name }}</a></h3>
                        <span class="pull-left">
      <div class="price" *ngIf="bk.saleprice!=null && bk.typesale;">
        <span class="new-price"> {{ bk.price-(bk.saleprice*bk.price/100)|currency:"VND" }}</span>
                        <span class="old-price"> {{ bk.price |currency:"VND"}}</span>
                    </div>
                    <div class="price" *ngIf="bk.saleprice!=null && !bk.typesale;">
                        <span class="new-price"> {{bk.price-bk.saleprice |currency:"VND"}}</span>
                        <span class="old-price"> {{ bk.price |currency:"VND"}}</span>
                    </div>
                    <div class="price" *ngIf="bk.saleprice==null && bk.typesale==null;">
                        <span class="new-price"> {{ bk.price |currency:"VND"}}</span>

                    </div>
                    </span>

                </div>

            </div>
        </div>
    </div>
</div>
</div>
